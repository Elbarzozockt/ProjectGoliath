<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" href="../jquery/jquery.mobile.icons.min.css" />
		<link rel="stylesheet" href="../jquery/jquery-ui.css" />
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />
		<script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
		<script src="../jquery/jquery.mobile-1.4.5.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.bundle.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
	 
		<style>
		ul {
			list-style-type: none;
			margin: 0;
			padding: 0;
			overflow: hidden;
			background-color: #333333;
		}
		li {
			float:left;
		}
		li a {
			display:block;
			color:white;
			text-align: center;
			padding: 16px;
			text-decoration: none;
		}
		li a:hover {
			background-color: #111111;
		}
		
		.flex-container {
		display: -webkit-flex;
		display: flex;
		width: auto;
		height: auto;
		background-color: white;
		}
		
		.flex-item {
		background-color:white;
		width: auto;
		height: auto;
		margin: 5px;
		}
		
		player {
		color:blue;
		}
		</style>
		
		<script>
			$(document).ready(function(){
				$("player").click(function(){
					var str = $(this).text();
					window.location.href="../WebScripts/ChartData.php?accname="+str;
					<!-- window.AppInventor.setWebViewString(str); -->
				});
			});
			
			$(document).ready(function(){
				$("team").click(function(){
					var str = $(this).text();
					window.location.href="../WebScripts/getTeamweb.php?teamname="+str;
					<!-- window.AppInventor.setWebViewString(str); -->
				});
			});
		</script>
		
	</head>
	
	<body style="padding: 0; margin:0; background-color:grey; color: white; width:650px; height:1300">
		
		<div class="flex-container" style="-webkit-flex-direction:column; flex-direction:column; width:auto; height:auto;">
			<div class="flex-item">
				<ul>
					<li><a href="../index.html">Main</a></li>
					<li><a href="../WebScripts/getRatingweb.php">Solo Rating</a></li>
					<li><a href="../WebScripts/getTeamratingweb.php">Team Rating</a></li>
					<li><a href="../WebScripts/getLastmatchesweb.php?LimitOfMatches=20">Letzte Spiele</a></li>
				</ul>
			</div>
			
			<div class="flex-item">
				<div class="flex-container" style="width:550px; height:auto">
						<div class="flex-item" style="background-color:grey; color: white; width:250px; margin:0px">
							<p>Teamname:  <br>
							Teammember:  <br>
							Teammember:  <br>
							Trueskill Gesamt (mittel): <br>
							Trueskill Gesamt (gewichtet):  <br>
							Spiele Gesamt: </p>
							<p>Config 1 S:<?php echo($teammember1); ?>, V:<?php echo($teammember2); ?><br>
							Trueskill:<br>
							Spiele:<br>
							</p>
							<p>Config 2 S:<?php echo($teammember2); ?>, V:<?php echo($teammember1); ?><br>
							Trueskill:<br>
							Spiele:<br>
							</p>
						</div>
						<div class="flex-item" style="background-color:grey; color: white; width:150px; margin:0px">
						<p><?php echo($teamname); ?><br>
						<player><?php echo($teammember1); ?></player><br>
						<player><?php echo($teammember2); ?></player><br>
						<?php echo(round(($trueskill_c1+$trueskill_c2)/2)); ?> <br>
						<?php echo(round(($trueskill_c1*$games_c1+$trueskill_c2*$games_c2)/(($games_c1+$games_c2)))); ?><br>
						<?php echo(($games_c1+$games_c2)); ?> (<?php echo(round(($win_c1+$win_c2)*100/($games_c1+$games_c2))); ?>% Siegrate)</p>
						<p> <br>
						<?php echo($trueskill_c1); ?><br>
						<?php echo($games_c1); ?> (<?php echo(round($win_c1*100/$games_c1)); ?>% Siegrate)</p>
						<p> <br>
						<?php echo($trueskill_c2); ?><br>
						<?php echo($games_c2); ?> (<?php echo(round($win_c2*100/$games_c2)); ?>% Siegrate)</p>
						</div>
						<div class="flex-item" style="width:auto; height: auto; margin: auto;">
							<div class="flex-container" style="-webkit-flex-direction:column; flex-direction:column; width:auto; height:auto">
								<div class="flex-item">
									<div class="flex-container" style="width:auto; height:auto">
										<div class="flex-item">
											<img src="../Ressources/<?php echo($batches); ?>" alt="Batch" style="background-color: white; width: 25px; height:25px;" >
										</div>
										<div class="flex-item">
											<img src="../Ressources/<?php echo($batches); ?>" alt="Batch" style="background-color: white; width: 25px; height:25px;" >
										</div>
										<div class="flex-item">
											<img src="../Ressources/<?php echo($batches); ?>" alt="Batch" style="background-color: white; width: 25px; height:25px;" >
										</div>
										<div class="flex-item">
											<img src="../Ressources/<?php echo($batches); ?>" alt="Batch" style="background-color: white; width: 25px; height:25px;" >
										</div>
									</div>
								</div>
								<div class="flex-item" style="margin:auto;">
									<img src="../Resources/pictures/<?php echo($pictureplayer1); ?>" alt="Profile Picture" style="background-color: white; width: 100px; height:100px;" >
								</div>
								<div class="flex-item" style="margin:auto;">
									<img src="../Resources/pictures/<?php echo($pictureplayer2); ?>" alt="Profile Picture" style="background-color: white; width: 100px; height:100px;" >
								</div>
							</div>
						</div>
				</div>
			</div>
						
					<div class="flex-item" style="background-color: white;"> 
							 <!-- float: left; -->
						<canvas id="myChart" width="500px" height="200px"></canvas>
						<script>
						var ctx = document.getElementById("myChart");
						var myChart = new Chart(ctx, {
							type: 'line',
							data: {
								labels: <?php echo($xDataFromPHP_c1); ?>,
								datasets: [
									{
										label: "Config 1 S:<?php echo($teammember1); ?>, V:<?php echo($teammember2); ?>",
										fill: false,
										lineTension: 0.1,
										backgroundColor: "rgba(75,192,192,0.4)",
										borderColor: "rgba(75,192,192,1)",
										borderCapStyle: 'butt',
										borderDash: [],
										borderDashOffset: 0.0,
										borderJoinStyle: 'miter',
										pointBorderColor: "rgba(75,192,192,1)",
										pointBackgroundColor: "#fff",
										pointBorderWidth: 1,
										pointHoverRadius: 5,
										pointHoverBackgroundColor: "rgba(75,192,192,1)",
										pointHoverBorderColor: "rgba(220,220,220,1)",
										pointHoverBorderWidth: 2,
										pointRadius: 1,
										pointHitRadius: 10,
										data: <?php echo($yDataFromPHP_c1); ?>,
										spanGaps: false,
									}
								]
							},
							options: {
								responsive:false,
								maintainAspectRatio:false,
								scales: {
									xAxes: [{
										ticks: {
											autoSkip:true,
											maxTicksLimit:20,
											beginAtZero:true
										}
									}],
									yAxes: [{
										ticks: {
											beginAtZero:false
										}
									}]
								}
							}
						});
						</script>
					</div>
					
					<div class="flex-item" style="background-color: white;">
						
						<canvas id="myChartFront" width="500px" height="200px"></canvas>
						<script>
						var ctx = document.getElementById("myChartFront");
						var myChartFront = new Chart(ctx, {
							type: 'line',
							data: {
								labels: <?php echo($xDataFromPHP_c2); ?>,
								datasets: [
									{
										label: "Config 2 S:<?php echo($teammember2); ?>, V:<?php echo($teammember1); ?>",
										fill: false,
										lineTension: 0.1,
										backgroundColor: "rgba(75,192,192,0.4)",
										borderColor: "rgba(75,192,192,1)",
										borderCapStyle: 'butt',
										borderDash: [],
										borderDashOffset: 0.0,
										borderJoinStyle: 'miter',
										pointBorderColor: "rgba(75,192,192,1)",
										pointBackgroundColor: "#fff",
										pointBorderWidth: 1,
										pointHoverRadius: 5,
										pointHoverBackgroundColor: "rgba(75,192,192,1)",
										pointHoverBorderColor: "rgba(220,220,220,1)",
										pointHoverBorderWidth: 2,
										pointRadius: 1,
										pointHitRadius: 10,
										data: <?php echo($yDataFromPHP_c2); ?>,
										spanGaps: false,
									}
								]
							},
							options: {
								responsive:false,
								maintainAspectRatio:false,
								scales: {
									xAxes: [{
										ticks: {
											autoSkip:true,
											maxTicksLimit:20,
											beginAtZero:true
										}
									}],
									yAxes: [{
										ticks: {
											beginAtZero:false
										}
									}]
								}
							}
						});
						</script>
					</div>
		</div>
	</body>
</html>